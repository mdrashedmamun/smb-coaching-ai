{
  "project": "SMB Coaching AI",
  "branchName": "ralph/phase-7-5-module-6-reliability",
  "description": "Phase 7.5: Module 6 (Reliability Protocol). Technical PRD for Ralph.",
  "technicalSpec": {
    "costOfChaos": {
      "formula": "hours * hourlyRate * 52",
      "inputs": {
        "hours": "number (hours/week spent on task)",
        "hourlyRate": "number (founder's hourly value, default 100)"
      },
      "output": "Annual cost in USD"
    },
    "sopConstraints": {
      "maxSteps": 7,
      "formatting": "plain text only",
      "attachments": false
    },
    "stateMutations": {
      "onComplete": {
        "action": "completeModule(6, 100)",
        "effect": "Sets module 6 isCompleted=true, progress=100",
        "globalImpact": "Reduces labor_ceiling constraint severity (implicit via module completion)"
      }
    },
    "dataFlow": {
      "timeAudit": {
        "input": "Array<{name, hours, role}>",
        "output": "TaskItem (selected single task)"
      },
      "sopExtractor": {
        "input": "TaskItem",
        "output": "SOPData {trigger, steps[], definitionOfDone}"
      },
      "freedomDashboard": {
        "input": "TaskItem + SOPData + hourlyRate",
        "output": "User action: Mark as Delegated -> completeModule()"
      }
    }
  },
  "userStories": [
    {
      "id": "US-7.5.1",
      "title": "Time Audit Calculator (Forced Tradeoff)",
      "acceptanceCriteria": [
        "User inputs: Task Name, Hours/Week.",
        "System calculates: Annual Cost (hours * hourlyRate * 52).",
        "Constraint: User MUST select exactly ONE task to proceed.",
        "Visual: 'Pick the most expensive mistake first.' locked state for others."
      ],
      "passes": true
    },
    {
      "id": "US-7.5.2",
      "title": "Crude SOP Extractor",
      "acceptanceCriteria": [
        "Constraint: Max 7 steps allowed.",
        "No rich text, no attachments.",
        "Fields: Trigger, Steps[], Definition of Done.",
        "Guidance: 'Good enough to hand off once.'"
      ],
      "passes": true
    },
    {
      "id": "US-7.5.3",
      "title": "Freedom Dashboard & Loop Closure",
      "acceptanceCriteria": [
        "Visual: 'Delegating [Task] unlocks [X] hours/yr.'",
        "Action: 'Mark as Delegated' button.",
        "Effect: Calls completeModule(6, 100).",
        "Feedback: 'This action directly weakens your primary constraint.'"
      ],
      "passes": true
    }
  ],
  "verification": {
    "browserTest": "Passed (2026-01-10)",
    "psychologicalLoadTest": "PASSED (2026-01-10) - Verified Mirror effect & Urgency"
  }
}